# top 명령어

`top` 명령어는 프로세스의 CPU, 메모리 등 시스템 상태를 실시간으로 모니터링할 수 있는 유틸리티입니다. 실행하면 CPU 사용률, 메모리 사용률, Swap 사용량, 프로세스 수 등 시스템 상태를 간단히 표시하고, 상세 정보를 확인할 수 있습니다.



## 요약 영역

위 부분에 위치하는 영역은 요약 영역입니다. 이 요약 영역은 전체 프로세스가 OS에 대해서 리소스를 어느정도 차지하고 있는지를 알려줍니다. 요약 영역에 나타나는 대표적인 값은 시간, 유저, 로드 애버러지, 테스크, CPU, 메모리가 있습니다.

- 시스템 현재 시간: OS가 살아있는 시간과 현재 접속중인 유저 세션 수를 보여줍니다. 이 시간은 GMT 기준으로 표시됩니다.
- 로드 애버리지: CPU Load의 이동 평균을 1분, 5분, 15분 단위로 표시합니다. CPU Load란 CPU가 수행하는 작업의 양을 의미합니다.
- Tasks: 현재 프로세스들의 상태를 나타내는 영역으로, 전체 프로세스, running, sleeping, stopped, zombies의 수를 보여줍니다.

## CPU 사용량

Tasks 아래 `%Cpu(s)` 영역이 있습니다. 이 영역은 CPU가 어떻게 사용되고 있는지 그 사용율을 보여주는 영역입니다. 모든 값의 총 합은 100% 이며, 각 요소는 다음과 같습니다:

코드 | 설명
--- | ---
us | 유저 영역 CPU 사용률
sy | 커널 영역 CPU 사용률
ni | 우선순위 설정에 사용되는 CPU 사용률
id | 사용하지 않는 CPU 비율
wa | IO 대기 CPU 비율
hi | 하드웨어 인터럽트 CPU 사용률
si | 소프트웨어 인터럽트 CPU 사용률
st | VM에서 대기하는 CPU 비율

## 메모리 사용량

`%Cpu(s)` 영역 아래에 메모리와 관련된 영역이 있습니다. 첫 번째 줄은 RAM의 메모리 영역으로 `Mem`이라 표시되어 있는 부분입니다. 그리고 아랫줄은 디스크를 메모리처럼 이용하는 Swap 메모리 영역입니다. 일반적으로 Mem의 사용량이 거의 가득 찼을 때 Swap 메모리 영역을 사용합니다.

코드 | 설명
--- | ---
total | 총 메모리 양
free | 사용 가능한 메모리 양
used | 사용 중인 메모리 양

## 디테일 영역

디테일 영역에는 각 프로세스에 대한 상세한 내용이 나옵니다. PID로 시작하는 부분은 다음과 같은 필드들을 포함합니다:

- PID: 프로세스 ID이며 프로세스를 구분하기 위한 고유한 값입니다.
- USER: 해당 프로세스를 실행한 사용자 이름입니다.
- PR&NI: PR은 커널에 의해서 스케줄링되는 우선순위이며, NI는 PR에 영향을 주는 nice 값입니다.
- VIRT, RES, SHR, %MEM: 프로세스의 메모리와 관련된 필드입니다.
    - VIRT: 프로세스가 소비하고 있는 총 메모리입니다.
    - RES: RAM에서 사용중인 메모리의 크기를 나타냅니다.
    - SHR: 다른 프로세스와의 공유 메모리를 나타냅니다.
    - %MEM: RAM에서 RES가 차지하는 비율을 나타냅니다.
- S: 프로세스의 현재 상태를 나타냅니다.
- TIME+: 프로세스가 사용한 토탈 CPU 시간을 나타냅니다.
- COMMAND: 해당 프로세스를 실행한 커맨드를 나타냅니다.

## ps 명령어
- **설명:** 현재 실행 중인 프로세스의 스냅샷을 제공하는 유틸리티
- **옵션:**
  - `-e`: 실행 중인 모든 프로세스의 정보 출력
  - `-f`: 프로세스에 대한 자세한 정보 출력
  - `-u [사용자이름]`: 특정 사용자에 대한 모든 프로세스의 정보 출력
  - `-p [pid]`: pid로 지정한 프로세스의 정보 출력
  - `u`: 프로세스 소유자의 이름, CPU 사용량, 메모리 사용량 등 상세정보 출력
  - `a`: 터미널에서 실행한 프로세스의 정보 출력
  - `x`: 실행 중인 모든 프로세스의 정보 출력

## jobs 명령어
- **설명:** 쉘에서 백그라운드로 실행 중인 작업의 목록을 보여줌
- **옵션:**
  - `-l`: 프로세스 그룹 ID를 state 필드 앞에 출력
  - `-n`: 프로세스 그룹 중 대표 프로세스 ID를 출력
  - `-p`: 각 프로세스 ID에 대해 한 행씩 출력
  - `command`: 지정한 명령어를 실행

## kill 명령어
- **설명:** 실행 중인 프로세스를 종료하는 명령어
- **옵션:**
  - `-l`: 시그널의 종류를 나열
  - `signal_number와 이름`:
    - `1 SIGHUP(HUP)`: 프로세스를 재시작시키는 시그널
    - `2 SIGINT(INT)`: 실행을 중지시키는 시그널
    - `9 SIGKILL(KILL)`: 무조건 종료시키는 시그널
    - `15 SIGTERM(TERM)`: 가능한 정상 종료시키는 시그널
    - `18 CONT`: 정지된 프로세스를 다시 실행시키는 시그널
    - `19 STOP`: 무조건적 정지시키는 시그널
    - `20 TSTP`: 실행 정지후 다시 실행을 계속하기 위해 대기시키는 시그널

## 요약
| 명령어 | 설명 | 사용법 |
|--------|------|--------|
| top    | 시스템의 실시간 프로세스 모니터링 도구 | top [옵션] |
| ps     | 현재 실행 중인 프로세스 정보를 보여주는 명령어 | ps [옵션] |
| jobs   | 현재 쉘에서 실행 중인 백그라운드 작업 목록을 보여줌 | jobs [옵션] [작업번호] |
| kill   | 실행 중인 프로세스를 종료하는 명령어 | kill [옵션] [프로세스ID] |
